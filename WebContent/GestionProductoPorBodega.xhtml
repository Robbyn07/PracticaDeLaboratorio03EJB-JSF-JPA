<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>Gestion Producto por Bodega</title>
</h:head>
<h:body>

    <script type="text/javascript">
    	function indicador(data){
    		if(data.status =="begin")
    			document.getElementById("id5").style.display = "inline";
    		else if (data.status == "success")
    			document.getElementById("id5").style.display = "none";
    	}
    </script>
    
    
    <h:form>
    
    	<h:commandButton value="Salir" action="#{gestionProductoPorBodegaControler.salir}">
		</h:commandButton>
    
    	<div id="buscarBodega">
    		<h:selectOneMenu value="#{gestionProductoPorBodegaControler.bodega}">
	    		<f:selectItems value="#{gestionProductoPorBodegaControler.listBodegas}"/>
	    		<f:ajax render="bodega"/>
	    	</h:selectOneMenu>
    	
    	
    		<h:commandButton value="Consultar" actionListener="#{gestionProductoPorBodegaControler.consultar}" update="list:ListaProductos">
	    	</h:commandButton>
    	
    	</div>
    	
    	<div >
    		<h:dataTable id="listaProductos" value="#{gestionProductoPorBodegaControler.listBodegas}" var="p" styleClass="tabla" headerClass="cabeceraTabla" rowClasses="filaPar,filaImpar">
    			<h:column>
    				<f:facet name="header" id="proestado">Estado</f:facet>#{p.bodega.producto.get(0).estado}
    			</h:column>
    			<h:column>
    				<f:facet name="header" id="pronombre">Nombre</f:facet>#{p.bodega.producto.get(0).nombre}
    			</h:column>
    			<h:column>
    				<f:facet name="header" id="proprecio">Precio</f:facet>#{p.bodega.producto.get(0).precio}
    			</h:column>
    			<h:column>
    				<f:facet name="header" id="prostock">Stock</f:facet>
    				<h:inputText id="procantidad" value="#{p.bodega.producto.get(0).stock}"></h:inputText>
    			</h:column>
    			<h:column>
    				<f:facet name="header" id="prostock">Categoria</f:facet>#{p.bodega.producto.get(0).categoria.nombre}
    			</h:column>
    			
    			<h:column>
    				<f:facet name="header" id="proagregar">Agregar</f:facet>
					<h:commandButton value="Agregar" >
					</h:commandButton>
    			</h:column>
    			
    			<h:column>
    				<f:facet name="header" id="proeditar">Editar</f:facet>
					<h:commandButton value="Editar" >
					</h:commandButton>
    			</h:column>
    			
    		</h:dataTable>
    	</div>
    	
    	
    	<span id="id5" style="display: none;"></span>
    
	    
    </h:form>
  	
</h:body>
</html>